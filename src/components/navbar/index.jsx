import React, { useState, useEffect, useContext } from 'react'
import { AuthContext } from '../../contexts/auth';
import "./style.css";
import { NavLink } from "react-router-dom";
import Logo from '../../Assets/Logo.png'

export default function NavBar() {
  const [Color, setColor] = useState();
  const { token, user, initialToken, typeUser } = useContext(AuthContext)
  const [isOperator, setIsOperator] = useState(true);

  useEffect(() => {
    console.log(typeUser)

    if (typeUser === "2") {
      setIsOperator(true);
    } else {
      setIsOperator(false);
    }

  }, [typeUser])

  return (
    <div className="sidebar">
      <div className="sidebarMenu">
        <div className="sidebar">

          <img src={Logo} className="logo" />

          <NavLink to="/dashboard" className={({ isActive }) => (isActive ? "active-link" : "link")} >
            <li className="sidebarItem">
              <svg width="36" height="36" viewBox="0 0 36 36" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 19.5H15C15.825 19.5 16.5 18.825 16.5 18V6C16.5 5.175 15.825 4.5 15 4.5H6C5.175 4.5 4.5 5.175 4.5 6V18C4.5 18.825 5.175 19.5 6 19.5ZM6 31.5H15C15.825 31.5 16.5 30.825 16.5 30V24C16.5 23.175 15.825 22.5 15 22.5H6C5.175 22.5 4.5 23.175 4.5 24V30C4.5 30.825 5.175 31.5 6 31.5ZM21 31.5H30C30.825 31.5 31.5 30.825 31.5 30V18C31.5 17.175 30.825 16.5 30 16.5H21C20.175 16.5 19.5 17.175 19.5 18V30C19.5 30.825 20.175 31.5 21 31.5ZM19.5 6V12C19.5 12.825 20.175 13.5 21 13.5H30C30.825 13.5 31.5 12.825 31.5 12V6C31.5 5.175 30.825 4.5 30 4.5H21C20.175 4.5 19.5 5.175 19.5 6Z" fill="currentColor" />
              </svg>
              Dashboard
            </li>
          </NavLink>
          <br />

          <NavLink to="/aparelhos" className={({ isActive }) => (isActive ? "active-link" : "link")}>
            <li className="sidebarItem">
              <svg width="36" height="36" viewBox="0 0 36 36" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M24.0027 10.4976L18.0027 16.4976L13.2327 16.4976C12.4977 14.4726 10.3977 13.1076 8.04269 13.6026C7.16832 13.7949 6.37077 14.2426 5.75121 14.8889C5.13165 15.5351 4.71799 16.3509 4.56269 17.2326C4.45141 17.8791 4.48281 18.5422 4.6547 19.1754C4.82658 19.8086 5.1348 20.3965 5.55775 20.8981C5.98071 21.3996 6.50819 21.8026 7.10326 22.0789C7.69833 22.3552 8.34661 22.4981 9.00269 22.4976C10.9527 22.4976 12.6027 21.2376 13.2327 19.4976L18.0027 19.4976L24.0027 25.4976L24.0027 29.9976C24.0027 30.8226 24.6777 31.4976 25.5027 31.4976L30.0027 31.4976C30.8277 31.4976 31.5027 30.8226 31.5027 29.9976L31.5027 25.4976C31.5027 24.6726 30.8277 23.9976 30.0027 23.9976L26.9277 23.9976L20.6277 17.9976L26.9277 11.9976L30.0027 11.9976C30.8277 11.9976 31.5027 11.3226 31.5027 10.4976L31.5027 5.99756C31.5027 5.17256 30.8277 4.49756 30.0027 4.49756L25.5027 4.49756C24.6777 4.49756 24.0027 5.17256 24.0027 5.99756L24.0027 10.4976Z" fill="currentColor" />
              </svg>
              Aparelhos
            </li>
          </NavLink>
          <br />

          {isOperator
            ? null
            : <>
              <NavLink to="/grupos" className={({ isActive }) => (isActive ? "active-link" : "link")}>
                <li className="sidebarItem">
                  <svg width="30" height="36" viewBox="0 0 30 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M3.40322 0C5.2825 0 6.80541 1.52317 6.80541 3.40218C6.80541 5.28224 5.28224 6.80541 3.40322 6.80541C1.52317 6.80541 0 5.28224 0 3.40218C0 1.52291 1.52317 0 3.40322 0ZM11.7707 17.6772H26.7169C30.5786 17.6772 30.5786 23.5145 26.7169 23.5145H11.7707C7.90906 23.5145 7.90906 17.6772 11.7707 17.6772ZM3.40322 17.1941C5.2825 17.1941 6.80541 18.7178 6.80541 20.5973C6.80541 22.4768 5.28224 24 3.40322 24C1.52317 24 0 22.4768 0 20.5973C0 18.7178 1.52317 17.1941 3.40322 17.1941ZM11.7707 9.07878H26.7169C30.5786 9.07878 30.5786 14.9159 26.7169 14.9159H11.7707C7.90906 14.9159 7.90906 9.07878 11.7707 9.07878ZM3.40322 8.59515C5.2825 8.59515 6.80541 10.1191 6.80541 11.9984C6.80541 13.8784 5.28224 15.4016 3.40322 15.4016C1.52317 15.4016 0 13.8784 0 11.9984C0 10.1191 1.52317 8.59515 3.40322 8.59515ZM11.7707 0.482461H26.7169C30.5786 0.482461 30.5786 6.32086 26.7169 6.32086H11.7707C7.90906 6.32086 7.90906 0.482461 11.7707 0.482461Z" fill="currentColor" />
                  </svg>
                  Grupos
                </li>
              </NavLink>
              <br />
      
            </>
          }

          {isOperator
            ? null
            : <>

              <NavLink to="/usuarios" className={({ isActive }) => (isActive ? "active-link" : "link")}>
                <li className="sidebarItem">
                  <svg width="36" height="36" viewBox="0 0 36 36" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M30.0926 28.0463C31.7083 26.1025 32.832 23.7981 33.3686 21.3281C33.9053 18.858 33.8392 16.2951 33.1759 13.8561C32.5126 11.417 31.2716 9.1736 29.5579 7.31561C27.8442 5.45761 25.7081 4.0397 23.3306 3.18181C20.953 2.32391 18.4037 2.05129 15.8985 2.38699C13.3932 2.72269 11.0057 3.65684 8.93781 5.11042C6.86994 6.56399 5.18259 8.49423 4.01849 10.7379C2.85439 12.9815 2.24779 15.4725 2.25001 18.0001C2.25086 21.6746 3.54572 25.2313 5.90738 28.0463L5.88488 28.0655C5.96363 28.16 6.05363 28.241 6.13463 28.3343C6.23588 28.4502 6.34501 28.5593 6.44963 28.6718C6.76463 29.0138 7.08863 29.3423 7.42838 29.6506C7.53188 29.7451 7.63876 29.8328 7.74338 29.9228C8.10338 30.2333 8.47351 30.5281 8.85713 30.8026C8.90663 30.8363 8.95163 30.8802 9.00113 30.9151V30.9016C11.636 32.7558 14.7792 33.7509 18.0011 33.7509C21.223 33.7509 24.3663 32.7558 27.0011 30.9016V30.9151C27.0506 30.8802 27.0945 30.8363 27.1451 30.8026C27.5276 30.527 27.8989 30.2333 28.2589 29.9228C28.3635 29.8328 28.4704 29.744 28.5739 29.6506C28.9136 29.3412 29.2376 29.0138 29.5526 28.6718C29.6573 28.5593 29.7653 28.4502 29.8676 28.3343C29.9475 28.241 30.0386 28.16 30.1174 28.0643L30.0926 28.0463ZM18 9.0001C19.0013 9.0001 19.9801 9.29701 20.8126 9.85328C21.6451 10.4096 22.294 11.2002 22.6771 12.1253C23.0603 13.0503 23.1606 14.0682 22.9652 15.0502C22.7699 16.0323 22.2877 16.9343 21.5797 17.6423C20.8717 18.3503 19.9697 18.8325 18.9877 19.0278C18.0056 19.2232 16.9877 19.1229 16.0627 18.7397C15.1376 18.3566 14.347 17.7077 13.7907 16.8752C13.2344 16.0426 12.9375 15.0639 12.9375 14.0626C12.9375 12.7199 13.4709 11.4323 14.4203 10.4829C15.3697 9.53347 16.6573 9.0001 18 9.0001V9.0001ZM9.00788 28.0463C9.0274 26.5692 9.6277 25.1591 10.6789 24.1212C11.7301 23.0832 13.1477 22.5009 14.625 22.5001H21.375C22.8523 22.5009 24.2699 23.0832 25.3211 24.1212C26.3723 25.1591 26.9726 26.5692 26.9921 28.0463C24.5248 30.2697 21.3213 31.5002 18 31.5002C14.6787 31.5002 11.4752 30.2697 9.00788 28.0463V28.0463Z" fill="currentColor" />
                  </svg>
                  Usu√°rios
                </li>
              </NavLink>
            </>
          }

        </div>
      </div>
    </div >
  );
}
